import javax.microedition.lcdui.*;import javax.microedition.rms.*;public class AddContact implements CommandListener,ItemStateListener{	Alert alert;	Command back;	Command save;	Display display;	Displayable parent;		Form form;		RecordStore storeNames;	RecordStore storeNum;	RecordStore storeAdd;	RecordStore storeEmail;		TextField contactName,contactNo,contactAddress,contactEmail;		public AddContact(Display d ,Displayable p, RecordStore s,RecordStore no,RecordStore add,RecordStore em ){		display = d;		parent = p; 		storeNames = s;		storeNum = no;		storeAdd = add;		storeEmail = em;				form = new Form("Add Contact");		back = new Command("back",Command.BACK,0);		save = new Command("save",Command.OK,1);		contactName = new TextField("Name: ","",12,TextField.ANY);		contactNo = new TextField("Number: ","",20,TextField.PHONENUMBER );		contactAddress = new TextField("Address: ","",20,TextField.ANY );		contactEmail = new TextField("Email: ","",20,TextField.ANY );		alert = new Alert("");						form.append(contactName);		form.append(contactNo);		form.append(contactAddress);		form.append(contactEmail);		form.addCommand(back);		form.setCommandListener(this);		form.setItemStateListener(this);	}	public void show(){		display.setCurrent(form);	}		public void commandAction(Command c, Displayable d){		String label = c.getLabel();				if(label.equals("back")){			display.setCurrent(parent);		}		else if(label.equals("save")){			try{				recordSave();			}catch(Exception ex){				ex.printStackTrace();				alert.setString("Error Ocuured during saving record..");				display.setCurrent(alert,parent);			}		}	}		public void itemStateChanged(Item i){		//System.out.println("State changed..");		if(contactNo.getString().length()>0){			form.addCommand(save);		}else{			form.removeCommand(save);		}	}			public void recordSave()throws Exception{		String name = contactName.getString();		String no = contactNo.getString();		String addr = contactAddress.getString();		String email = contactEmail.getString();				int available = storeNames.getSizeAvailable();		if(name.getBytes().length > available){			alert.setString("Not Enough Memory To store..!");		}else{			byte[] na = name.getBytes();			byte[] num = no.getBytes();			byte[] add = addr.getBytes();			byte[] em = email.getBytes();					storeNames.addRecord(na,0,na.length);			storeNum.addRecord(num,0,num.length);			storeAdd.addRecord(add,0,add.length);			storeEmail.addRecord(em,0,em.length);						contactName.setString("");			contactNo.setString("");			contactAddress.setString("");			contactEmail.setString("");						alert.setString("Record Saved..");			display.setCurrent(alert,parent);		}	}}