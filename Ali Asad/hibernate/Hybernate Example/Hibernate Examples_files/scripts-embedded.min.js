function _StringFormatInline(){var e=this;for(var t=0;t<arguments.length;t++){var n=new RegExp("\\{"+t+"\\}","gm");e=e.replace(n,arguments[t])}return e}var requirejs,require,define;(function(Y){function x(e){return J.call(e)==="[object Function]"}function G(e){return J.call(e)==="[object Array]"}function q(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function N(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function y(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))break}function K(e,t,n,r){return t&&y(t,function(t,s){if(n||!e.hasOwnProperty(s))r&&typeof t!="string"?(e[s]||(e[s]={}),K(e[s],t,n,r)):e[s]=t}),e}function s(e,t){return function(){return t.apply(e,arguments)}}function Z(e){if(!e)return e;var t=Y;return q(e.split("."),function(e){t=t[e]}),t}function $(e,t,n){return function(){var r=fa.call(arguments,0),i;return n&&x(i=r[r.length-1])&&(i.__requireJsBuild=!0),r.push(t),e.apply(null,r)}}function aa(e,t,n){q([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(r){var i=r[1]||r[0];e[r[0]]=t?$(t[i],n):function(){var e=z[O];return e[i].apply(e,arguments)}})}function H(e,t,n,r){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=r,n&&(t.originalError=n),t}function ga(){return I&&I.readyState==="interactive"?I:(N(document.getElementsByTagName("script"),function(e){if(e.readyState==="interactive")return I=e}),I)}var ha=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ia=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ba=/\.js$/,ja=/^\.\//,J=Object.prototype.toString,A=Array.prototype,fa=A.slice,ka=A.splice,w=typeof window!="undefined"&&!!navigator&&!!document,ca=!w&&typeof importScripts!="undefined",la=w&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,O="_",S=typeof opera!="undefined"&&opera.toString()==="[object Opera]",z={},p={},P=[],L=!1,j,t,C,u,D,I,E,da,ea;if(typeof define=="undefined"){if(typeof requirejs!="undefined"){if(x(requirejs))return;p=requirejs,requirejs=void 0}typeof require!="undefined"&&!x(require)&&(p=require,require=void 0),j=requirejs=function(e,t,n,r){var i=O,s;return!G(e)&&typeof e!="string"&&(s=e,G(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(i=s.context),(r=z[i])||(r=z[i]=j.s.newContext(i)),s&&r.configure(s),r.require(e,t,n)},j.config=function(e){return j(e)},require||(require=j),j.version="2.0.4",j.jsExtRegExp=/^\/|:|\?|\.js$/,j.isBrowser=w,A=j.s={contexts:z,newContext:function(e){function t(e,t,n){var r=t&&t.split("/"),i=r,s=b.map,o=s&&s["*"],u,a,f;if(e&&e.charAt(0)===".")if(t){i=b.pkgs[t]?r=[t]:r.slice(0,r.length-1),t=e=i.concat(e.split("/"));for(i=0;t[i];i+=1)if(u=t[i],u===".")t.splice(i,1),i-=1;else if(u===".."){if(i===1&&(t[2]===".."||t[0]===".."))break;i>0&&(t.splice(i-1,2),i-=2)}i=b.pkgs[t=e[0]],e=e.join("/"),i&&e===t+"/"+i.main&&(e=t)}else e.indexOf("./")===0&&(e=e.substring(2));if(n&&(r||o)&&s){t=e.split("/");for(i=t.length;i>0;i-=1){a=t.slice(0,i).join("/");if(r)for(u=r.length;u>0;u-=1)if(n=s[r.slice(0,u).join("/")])if(n=n[a]){f=n;break}!f&&o&&o[a]&&(f=o[a]);if(f){t.splice(0,i,f),e=t.join("/");break}}}return e}function n(e){w&&q(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===B.contextName)return t.parentNode.removeChild(t),!0})}function r(e){var t=b.paths[e];if(t&&G(t)&&t.length>1)return n(e),t.shift(),B.undef(e),B.require([e]),!0}function i(e,n,r,i){var s=e?e.indexOf("!"):-1,o=null,u=n?n.name:null,a=e,f=!0,l="",c,h;return e||(f=!1,e="_@r"+(A+=1)),s!==-1&&(o=e.substring(0,s),e=e.substring(s+1,e.length)),o&&(o=t(o,u,i),h=C[o]),e&&(o?l=h&&h.normalize?h.normalize(e,function(e){return t(e,u,i)}):t(e,u,i):(l=t(e,u,i),c=B.nameToUrl(l))),e=o&&!h&&!r?"_unnormalized"+(O+=1):"",{prefix:o,name:l,parentMap:n,unnormalized:!!e,url:c,originalName:a,isDefine:f,id:(o?o+"!"+l:l)+e}}function o(e){var t=e.id,n=E[t];return n||(n=E[t]=new B.Module(e)),n}function u(e,t,n){var r=e.id,i=E[r];C.hasOwnProperty(r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(C[r]):o(e).on(t,n)}function a(e,t){var n=e.requireModules,r=!1;t?t(e):(q(n,function(t){if(t=E[t])t.error=e,t.events.error&&(r=!0,t.emit("error",e))}),!r)&&j.onError(e)}function f(){P.length&&(ka.apply(N,[N.length-1,0].concat(P)),P=[])}function l(e,t,n){return e=e&&e.map,t=$(n||B.require,e,t),aa(t,B,e),t.isBrowser=w,t}function c(e){delete E[e],q(M,function(t,n){if(t.map.id===e)return M.splice(n,1),t.defined||(B.waitCount-=1),!0})}function h(e,t){var n=e.map.id,r=e.depMaps,i;if(e.inited)return t[n]?e:(t[n]=!0,q(r,function(e){if(e=E[e.id])return!e.inited||!e.enabled?(i=null,delete t[n],!0):i=h(e,K({},t))}),i)}function p(e,t,n){var r=e.map.id,i=e.depMaps;if(e.inited&&e.map.isDefine)return t[r]?C[r]:(t[r]=e,q(i,function(i){var i=i.id,s=E[i];!F[i]&&s&&(!s.inited||!s.enabled?n[r]=!0:(s=p(s,t,n),n[i]||e.defineDepById(i,s)))}),e.check(!0),C[r])}function d(e){e.check()}function v(){var e=b.waitSeconds*1e3,t=e&&B.startTime+e<(new Date).getTime(),i=[],s=!1,o=!0,u,f,l;if(!_){_=!0,y(E,function(e){u=e.map,f=u.id;if(e.enabled&&!e.error)if(!e.inited&&t)r(f)?s=l=!0:(i.push(f),n(f));else if(!e.inited&&e.fetched&&u.isDefine&&(s=!0,!u.prefix))return o=!1});if(t&&i.length)return e=H("timeout","Load timeout for modules: "+i,null,i),e.contextName=B.contextName,a(e);o&&(q(M,function(e){if(!e.defined){var e=h(e,{}),t={};e&&(p(e,t,{}),y(t,d))}}),y(E,d)),(!t||l)&&s&&(w||ca)&&!R&&(R=setTimeout(function(){R=0,v()},50)),_=!1}}function m(e){o(i(e[0],null,!0)).init(e[1],e[2])}function g(e){var e=e.currentTarget||e.srcElement,t=B.onScriptLoad;return e.detachEvent&&!S?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=B.onScriptError,e.detachEvent&&!S||e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}var b={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},E={},T={},N=[],C={},k={},A=1,O=1,M=[],_,D,B,F,R;return F={require:function(e){return l(e)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports=C[e.map.id]={}},module:function(e){return e.module={id:e.map.id,uri:e.map.url,config:function(){return b.config&&b.config[e.map.id]||{}},exports:C[e.map.id]}}},D=function(e){this.events=T[e.id]||{},this.map=e,this.shim=b.shim[e.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},D.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=s(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.depMaps.rjsSkipMap=e.rjsSkipMap,this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDepById:function(e,t){var n;return q(this.depMaps,function(t,r){if(t.id===e)return n=r,!0}),this.defineDep(n,t)},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,B.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();l(this,!0)(this.shim.deps||[],s(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;k[e]||(k[e]=!0,B.load(this.map.id,e))},check:function(e){if(this.enabled&&!this.enabling){var t=this.map.id,n=this.depExports,r=this.exports,i=this.factory,s;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(x(i)){if(this.events.error)try{r=B.execCb(t,i,n,r)}catch(o){s=o}else r=B.execCb(t,i,n,r);this.map.isDefine&&((n=this.module)&&n.exports!==void 0&&n.exports!==this.exports?r=n.exports:r===void 0&&this.usingExports&&(r=this.exports));if(s)return s.requireMap=this.map,s.requireModules=[this.map.id],s.requireType="define",a(this.error=s)}else r=i;this.exports=r,this.map.isDefine&&!this.ignore&&(C[t]=r,j.onResourceLoad)&&j.onResourceLoad(B,this.map,this.depMaps),delete E[t],this.defined=!0,B.waitCount-=1,B.waitCount===0&&(M=[])}this.defining=!1,!e&&this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,n=e.id,r=i(e.prefix,null,!1,!0);u(r,"defined",s(this,function(r){var f=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null;if(this.map.unnormalized){if(r.normalize&&(f=r.normalize(f,function(e){return t(e,h,!0)})||""),r=i(e.prefix+"!"+f,this.map.parentMap,!1,!0),u(r,"defined",s(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),r=E[r.id])this.events.error&&r.on("error",s(this,function(e){this.emit("error",e)})),r.enable()}else f=s(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),f.error=s(this,function(e){this.inited=!0,this.error=e,e.requireModules=[n],y(E,function(e){e.map.id.indexOf(n+"_unnormalized")===0&&c(e.map.id)}),a(e)}),f.fromText=function(e,t){var n=L;n&&(L=!1),o(i(e)),j.exec(t),n&&(L=!0),B.completeLoad(e)},r.load(e.name,l(e.parentMap,!0,function(e,t){return e.rjsSkipMap=!0,B.require(e,t)}),f,b)})),B.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){this.enabled=!0,this.waitPushed||(M.push(this),B.waitCount+=1,this.waitPushed=!0),this.enabling=!0,q(this.depMaps,s(this,function(e,t){var n,r;if(typeof e=="string"){e=i(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.depMaps.rjsSkipMap),this.depMaps[t]=e;if(n=F[e.id]){this.depExports[t]=n(this);return}this.depCount+=1,u(e,"defined",s(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",this.errback)}n=e.id,r=E[n],!F[n]&&r&&!r.enabled&&B.enable(e,this)})),y(this.pluginMaps,s(this,function(e){var t=E[e.id];t&&!t.enabled&&B.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){q(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},B={config:b,contextName:e,registry:E,defined:C,urlFetched:k,waitCount:0,defQueue:N,Module:D,makeModuleMap:i,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=b.pkgs,n=b.shim,r=b.paths,s=b.map;K(b,e,!0),b.paths=K(r,e.paths,!0),e.map&&(b.map=K(s||{},e.map,!0,!0)),e.shim&&(y(e.shim,function(e,t){G(e)&&(e={deps:e}),e.exports&&!e.exports.__buildReady&&(e.exports=B.makeShimExports(e.exports)),n[t]=e}),b.shim=n),e.packages&&(q(e.packages,function(e){e=typeof e=="string"?{name:e}:e,t[e.name]={name:e.name,location:e.location||e.name,main:(e.main||"main").replace(ja,"").replace(ba,"")}}),b.pkgs=t),y(E,function(e,t){e.map=i(t)}),(e.deps||e.callback)&&B.require(e.deps||[],e.callback)},makeShimExports:function(e){var t;return typeof e=="string"?(t=function(){return Z(e)},t.exports=e,t):function(){return e.apply(Y,arguments)}},requireDefined:function(e,t){var n=i(e,t,!1,!0).id;return C.hasOwnProperty(n)},requireSpecified:function(e,t){return e=i(e,t,!1,!0).id,C.hasOwnProperty(e)||E.hasOwnProperty(e)},require:function(t,n,r,s){var u;if(typeof t=="string")return x(n)?a(H("requireargs","Invalid require call"),r):j.get?j.get(B,t,n):(t=i(t,n,!1,!0),t=t.id,C.hasOwnProperty(t)?C[t]:a(H("notloaded",'Module name "'+t+'" has not been loaded yet for context: '+e)));r&&!x(r)&&(s=r,r=void 0),n&&!x(n)&&(s=n,n=void 0);for(f();N.length;){if(u=N.shift(),u[0]===null)return a(H("mismatch","Mismatched anonymous define() module: "+u[u.length-1]));m(u)}return o(i(null,s)).init(t,n,r,{enabled:!0}),v(),B.require},undef:function(e){var t=i(e,null,!0),n=E[e];delete C[e],delete k[t.url],delete T[e],n&&(n.events.defined&&(T[e]=n.events),c(e))},enable:function(e){E[e.id]&&o(e).enable()},completeLoad:function(e){var t=b.shim[e]||{},n=t.exports&&t.exports.exports,i,s;for(f();N.length;){s=N.shift();if(s[0]===null){s[0]=e;if(i)break;i=!0}else s[0]===e&&(i=!0);m(s)}s=E[e];if(!i&&!C[e]&&s&&!s.inited){if(b.enforceDefine&&(!n||!Z(n))){if(r(e))return;return a(H("nodefine","No define call for "+e,null,[e]))}m([e,t.deps||[],t.exports])}v()},toUrl:function(e,n){var r=e.lastIndexOf("."),i=null;return r!==-1&&(i=e.substring(r,e.length),e=e.substring(0,r)),B.nameToUrl(t(e,n&&n.id,!0),i)},nameToUrl:function(e,t){var n,r,i,s,o,u;if(j.jsExtRegExp.test(e))s=e+(t||"");else{n=b.paths,r=b.pkgs,s=e.split("/");for(o=s.length;o>0;o-=1){if(u=s.slice(0,o).join("/"),i=r[u],u=n[u]){G(u)&&(u=u[0]),s.splice(0,o,u);break}if(i){n=e===i.name?i.location+"/"+i.main:i.location,s.splice(0,o,n);break}}s=s.join("/")+(t||".js"),s=(s.charAt(0)==="/"||s.match(/^[\w\+\.\-]+:/)?"":b.baseUrl)+s}return b.urlArgs?s+((s.indexOf("?")===-1?"?":"&")+b.urlArgs):s},load:function(e,t){j.load(B,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||la.test((e.currentTarget||e.srcElement).readyState))I=null,e=g(e),B.completeLoad(e.id)},onScriptError:function(e){var t=g(e);if(!r(t.id))return a(H("scripterror","Script error",e,[t.id]))}}}},j({}),aa(j),w&&(t=A.head=document.getElementsByTagName("head")[0],C=document.getElementsByTagName("base")[0])&&(t=A.head=C.parentNode),j.onError=function(e){throw e},j.load=function(e,n,r){var i=e&&e.config||{},s;if(w)return s=i.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),s.type=i.scriptType||"text/javascript",s.charset="utf-8",s.async=!0,s.setAttribute("data-requirecontext",e.contextName),s.setAttribute("data-requiremodule",n),s.attachEvent&&!(s.attachEvent.toString&&s.attachEvent.toString().indexOf("[native code")<0)&&!S?(L=!0,s.attachEvent("onreadystatechange",e.onScriptLoad)):(s.addEventListener("load",e.onScriptLoad,!1),s.addEventListener("error",e.onScriptError,!1)),s.src=r,E=s,C?t.insertBefore(s,C):t.appendChild(s),E=null,s;ca&&(importScripts(r),e.completeLoad(n))},w&&N(document.getElementsByTagName("script"),function(e){t||(t=e.parentNode);if(u=e.getAttribute("data-main"))return p.baseUrl||(D=u.split("/"),da=D.pop(),ea=D.length?D.join("/")+"/":"./",p.baseUrl=ea,u=da),u=u.replace(ba,""),p.deps=p.deps?p.deps.concat(u):[u],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),G(t)||(n=t,t=[]),!t.length&&x(n)&&n.length&&(n.toString().replace(ha,"").replace(ia,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t)),L&&(r=E||ga())&&(e||(e=r.getAttribute("data-requiremodule")),i=z[r.getAttribute("data-requirecontext")]),(i?i.defQueue:P).push([e,t,n])},define.amd={jQuery:!0},j.exec=function(b){return eval(b)},j(p)}})(this),define("requireLib",function(){}),define("general",[],function(){var e=document.location.toString().split("#")[0],t=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,n={appBaseUrl:e.substring(0,e.lastIndexOf("/"))+"/",links:{youtubeAPI:"http://gdata.youtube.com/feeds/api/videos?start-index=1&max-results=1&v=2&alt=json&fields=entry(title,id)&orderby=relevance&q=",youtubeThumb:"http://img.youtube.com/vi/{0}/2.jpg",youtubePlayerUrl:"http://www.youtube.com/v/{0}?version=3&enablejsapi=1",conduitLogo:"http://apps.conduit.com",downloadFlash:"http://get.adobe.com/flashplayer/"},storageKeys:{feedToShow:"feedToShow",MessagingKey:"MessageKey",notFirstTime:"notFirstTime",config:"TopHitsConfig"}},r={getFeedData:function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return e[n]},setupMessaging:function(e){t?window.EBGlobalKeyChanged=function(t,r){if(t!==n.storageKeys.MessagingKey)return;e(r)}:(window.EBMessageReceived=function(t,r){if(t!==n.storageKeys.MessagingKey)return;e(r)},RegisterForMessaging(n.storageKeys.MessagingKey))},sendTBMessage:function(e){t?StoreGlobalKey(n.storageKeys.MessagingKey,e):SendMessage(n.storageKeys.MessagingKey,e)}};return{data:n,utils:r}}),String.prototype.Format||(String.prototype.Format=_StringFormatInline),define("jquery.tmpl",[],function(){(function(e){function c(t,n,r,o){var u={data:o||o===0||o===!1?o:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:b,nest:w,wrap:E,html:S,update:x};return t&&e.extend(u,t,{nodes:[],parent:n}),r&&(u.tmpl=r,u._ctnt=u._ctnt||u.tmpl(e,u),u.key=++a,(l.length?s:i)[a]=u),u}function h(t,r,i){var s,o=i?e.map(i,function(e){return typeof e=="string"?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+n+'="'+t.key+'" $2'):e:h(e,t,e._ctnt)}):t;return r?o:(o=o.join(""),o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,n,r,i){s=e(r).get(),y(s),n&&(s=p(n).concat(s)),i&&(s=s.concat(p(i)))}),s?s:p(o))}function p(t){var n=document.createElement("div");return n.innerHTML=t,e.makeArray(n.childNodes)}function d(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,n,r,i,s,o,u){var a=e.tmpl.tag[r],f,l,c;if(!a)throw"Unknown template tag: "+r;return f=a._default||[],o&&!/\w$/.test(s)&&(s+=o,o=""),s?(s=m(s),u=u?","+m(u)+")":o?")":"",l=o?s.indexOf(".")>-1?s+m(o):"("+s+").call($item"+u:s,c=o?l:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"):c=l=f.$1||"null",i=m(i),"');"+a[n?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(i||f.$2||"")+"__.push('"})+"');}return __;")}function v(t,n){t._wrap=h(t,!0,e.isArray(n)?n:[r.test(n)?n:e(n).html()]).join("")}function m(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function g(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function y(t){function v(t){function v(e){e+=r,p=l[e]=l[e]||c(p,i[p.parent.key+r]||p.parent)}var o,u=t,h,p,d;if(d=t.getAttribute(n)){while(u.parentNode&&(u=u.parentNode).nodeType===1&&!(o=u.getAttribute(n)));o!==d&&(u=u.parentNode?u.nodeType===11?0:u.getAttribute(n)||0:0,(p=i[d])||(p=s[d],p=c(p,i[u]||s[u]),p.key=++a,i[a]=p),f&&v(d)),t.removeAttribute(n)}else f&&(p=e.data(t,"tmplItem"))&&(v(p.key),i[p.key]=p,u=e.data(t.parentNode,"tmplItem"),u=u?u.key:0);if(p){h=p;while(h&&h.key!=u)h.nodes.push(t),h=h.parent;delete p._ctnt,delete p._wrap,e.data(t,"tmplItem",p)}}var r="_"+f,o,u,l={},h,p,d;for(h=0,p=t.length;h<p;h++){if((o=t[h]).nodeType!==1)continue;u=o.getElementsByTagName("*");for(d=u.length-1;d>=0;d--)v(u[d]);v(o)}}function b(e,t,n,r){if(!e)return l.pop();l.push({_:e,tmpl:t,item:this,data:n,options:r})}function w(t,n,r){return e.tmpl(e.template(t),n,r,this)}function E(t,n){var r=t.options||{};return r.wrapped=n,e.tmpl(e.template(t.tmpl),t.data,r,t.item)}function S(t,n){var r=this._wrap;return e.map(e(e.isArray(r)?r.join(""):r).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||g(e)})}function x(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}var t=e.fn.domManip,n="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,i={},s={},o,u={key:0,data:{}},a=0,f=0,l=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(r){var s=[],u=e(r),a,l,c,h,p=this.length===1&&this[0].parentNode;o=i||{};if(p&&p.nodeType===11&&p.childNodes.length===1&&u.length===1)u[n](this[0]),s=this;else{for(l=0,c=u.length;l<c;l++)f=l,a=(l>0?this.clone(!0):this).get(),e(u[l])[n](a),s=s.concat(a);f=0,s=this.pushStack(s,t,u.selector)}return h=o,o=null,e.tmpl.complete(h),s}}),e.fn.extend({tmpl:function(t,n,r){return e.tmpl(this[0],t,n,r)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(n,r,s){if(n[0]&&e.isArray(n[0])){var u=e.makeArray(arguments),a=n[0],l=a.length,c=0,h;while(c<l&&!(h=e.data(a[c++],"tmplItem")));h&&f&&(u[2]=function(t){e.tmpl.afterManip(this,t,s)}),t.apply(this,u)}else t.apply(this,arguments);return f=0,!o&&e.tmpl.complete(i),this}}),e.extend({tmpl:function(t,n,r,o){var a,f=!o;if(f)o=u,t=e.template[t]||e.template(null,t),s={};else if(!t)return t=o.tmpl,i[o.key]=o,o.nodes=[],o.wrapped&&v(o,o.wrapped),e(h(o,null,o.tmpl(e,o)));return t?(typeof n=="function"&&(n=n.call(o||{})),r&&r.wrapped&&v(r,r.wrapped),a=e.isArray(n)?e.map(n,function(e){return e?c(r,o,t,e):null}):[c(r,o,t,n)],f?e(h(o,null,a)):a):[]},tmplItem:function(t){var n;t instanceof e&&(t=t[0]);while(t&&t.nodeType===1&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode));return n||u},template:function(t,n){return n?(typeof n=="string"?n=d(n):n instanceof e&&(n=n[0]||{}),n.nodeType&&(n=e.data(n,"tmpl")||e.data(n,"tmpl",d(n.innerHTML))),typeof t=="string"?e.template[t]=n:n):t?typeof t!="string"?e.template(null,t):e.template[t]||e.template(null,r.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){i={}},afterManip:function(t,n,r){var i=n.nodeType===11?e.makeArray(n.childNodes):n.nodeType===1?[n]:[];r.call(t,n),y(i),f++}})})(jQuery)}),define("embedded",["general","jquery.tmpl"],function(e){function r(){o(function(){t=$("#app"),h(),s(),f(),l(),e.utils.setupMessaging(a)})}function s(){var e=$("#StylingTemplate").tmpl(n);if($.browser.msie&&parseInt($.browser.version)<9){var t=e.eq(0).html(),r=document.createElement("style");r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=t:(t=document.createTextNode(t),r.appendChild(t)),document.body.appendChild(r)}else e.appendTo($("body"))}function o(t){var r=u().configUrl;if(!r)return;r=decodeURI(r),CrossDomainHttpRequest(function(r){try{n=$.parseJSON(r);if(!n)return}catch(i){return}StoreGlobalKey(e.data.storageKeys.config,r),t()},"GET",r,null,null,null,null)}function u(){var e={},t=/([^&=]+)=([^&]*)/g,n,r=location.search.substring(1);while(n=t.exec(r))e[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return e}function a(t){e.utils.getFeedData(n.items,t)&&f()}function f(){var r=RetrieveGlobalKey(e.data.storageKeys.feedToShow)||n.items[0].name;e.utils.getFeedData(n.items,r)||(r=n.items[0].name,StoreGlobalKey(e.data.storageKeys.feedToShow,r)),t.removeClass().addClass(r)}function l(){t.click(function(){c()})}function c(){var t={url:e.data.appBaseUrl+"popup.html",width:320,height:362,features:"resizable=0,scrollbars=0,titlebar=0,closeonexternalclick=0,saveresizedsize=no,savelocation=no,openposition=alignment:(B,R)"};LaunchGadget(t.url,t.width,t.height,t.features)}function h(){function s(e){var t=document.createElement("img");t.src=e}var t=e.data.appBaseUrl,n,r=["img/flag_large_hover.png","img/loading.gif","img/overlay.png","img/videoBox_hover.png"];for(i=0;i<r.length;i++)s(t+r[i])}var t,n;return{start:r}}),require.config({paths:{general:"modules/general",embedded:"modules/embedded","jquery.tmpl":"libs/jqueryPlugins/jquery.tmpl.min"},shim:{embedded:["general","jquery.tmpl"]}}),require(["general","embedded"],function(e,t){t.start()}),define("../js/main-embedded",function(){})